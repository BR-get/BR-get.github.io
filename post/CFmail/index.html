<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>æ–°ç«™ç¬¬ä¸€ç« ï¼šç”¨ä»»æ„ç»‘å®šäºcloudflareåˆ¶ä½œå…è´¹ä¼ä¸šé‚®ç®±ï¼ˆå¯æ”¶å‘ï¼‰ - shundeboå›¾ä¹¦é¦†</title>
<link rel="shortcut icon" href="https://blog.shundebo.top/favicon.ico">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.2.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css">
<link rel="stylesheet" href="https://blog.shundebo.top/media/css/tailwind.css">
<link rel="stylesheet" href="https://blog.shundebo.top/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="æ–°ç«™ç¬¬ä¸€ç« ï¼šç”¨ä»»æ„ç»‘å®šäºcloudflareåˆ¶ä½œå…è´¹ä¼ä¸šé‚®ç®±ï¼ˆå¯æ”¶å‘ï¼‰ - shundeboå›¾ä¹¦é¦† - Atom Feed" href="https://blog.shundebo.top/atom.xml">

    

  <meta name="description" content="


1.æ³¨å†ŒCloudflareè´¦å·å¹¶æ·»åŠ åŸŸå
2.è®¾ç½®æ”¶é‚®ä»¶
3.è·å–resendAPIkeyä¸é…ç½®
4.è®¾ç½®å‘ä»¶worker




KImiçš„åœ¨åˆ›ä¸šæˆ–ä¸ªäººé¡¹ç›®ä¸­ï¼Œæ‹¥æœ‰ä¸€ä¸ªä¸“ä¸šçš„ä¼ä¸šé‚®ç®±ä¸ä»…èƒ½æå‡å“ç‰Œå½¢è±¡ï¼Œè¿˜èƒ½æé«˜æ²Ÿé€šæ•ˆç‡ã€‚ç„¶è€Œï¼Œä¼ ç»Ÿ..." />
  <meta property="og:title" content="æ–°ç«™ç¬¬ä¸€ç« ï¼šç”¨ä»»æ„ç»‘å®šäºcloudflareåˆ¶ä½œå…è´¹ä¼ä¸šé‚®ç®±ï¼ˆå¯æ”¶å‘ï¼‰ - shundeboå›¾ä¹¦é¦†">
  <meta property="og:description" content="


1.æ³¨å†ŒCloudflareè´¦å·å¹¶æ·»åŠ åŸŸå
2.è®¾ç½®æ”¶é‚®ä»¶
3.è·å–resendAPIkeyä¸é…ç½®
4.è®¾ç½®å‘ä»¶worker




KImiçš„åœ¨åˆ›ä¸šæˆ–ä¸ªäººé¡¹ç›®ä¸­ï¼Œæ‹¥æœ‰ä¸€ä¸ªä¸“ä¸šçš„ä¼ä¸šé‚®ç®±ä¸ä»…èƒ½æå‡å“ç‰Œå½¢è±¡ï¼Œè¿˜èƒ½æé«˜æ²Ÿé€šæ•ˆç‡ã€‚ç„¶è€Œï¼Œä¼ ç»Ÿ..." />
  <meta property="og:type" content="articles">
  <meta property="og:url" content="https://blog.shundebo.top/post/CFmail/" />
  <meta property="og:image" content="https://blog.shundebo.top/images/avatar.png">
  <meta property="og:image:height" content="630">
  <meta property="og:image:width" content="1200">
  <meta name="twitter:title" content="æ–°ç«™ç¬¬ä¸€ç« ï¼šç”¨ä»»æ„ç»‘å®šäºcloudflareåˆ¶ä½œå…è´¹ä¼ä¸šé‚®ç®±ï¼ˆå¯æ”¶å‘ï¼‰ - shundeboå›¾ä¹¦é¦†">
  <meta name="twitter:description" content="


1.æ³¨å†ŒCloudflareè´¦å·å¹¶æ·»åŠ åŸŸå
2.è®¾ç½®æ”¶é‚®ä»¶
3.è·å–resendAPIkeyä¸é…ç½®
4.è®¾ç½®å‘ä»¶worker




KImiçš„åœ¨åˆ›ä¸šæˆ–ä¸ªäººé¡¹ç›®ä¸­ï¼Œæ‹¥æœ‰ä¸€ä¸ªä¸“ä¸šçš„ä¼ä¸šé‚®ç®±ä¸ä»…èƒ½æå‡å“ç‰Œå½¢è±¡ï¼Œè¿˜èƒ½æé«˜æ²Ÿé€šæ•ˆç‡ã€‚ç„¶è€Œï¼Œä¼ ç»Ÿ...">
  <meta name="twitter:card" content="summary_large_image">
  <link rel="canonical" href="https://blog.shundebo.top/post/CFmail/">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css">
 
  
    <link rel="stylesheet" href="https://blog.shundebo.top/media/css/prism-vs-light.css">
  

  
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
  
</head>

<body>
  <div class="antialiased flex flex-col min-h-screen" id="app">
    <a href="https://blog.shundebo.top" class="fixed top-0 left-0 mt-4 bg-black text-white dark:text-gray-700 dark:bg-yellow-50 dark:hover:bg-black dark:hover:text-white inline-flex p-2 pl-8 hover:text-gray-700 hover:bg-yellow-50 font-bold z-10 transition-fast animated fadeInLeft">
      shundeboå›¾ä¹¦é¦†
    </a>
    <div class="max-w-4xl w-full mx-auto">
      <div class="shadow-box bg-white dark:bg-gray-600 rounded-lg pt-32 md:pt-64 px-4 md:px-8 pb-8 animated fadeIn mb-8">
        <h1 class="text-5xl font-semibold leading-normal pb-8 mb-8 border-b-8 border-gray-700">
          æ–°ç«™ç¬¬ä¸€ç« ï¼šç”¨ä»»æ„ç»‘å®šäºcloudflareåˆ¶ä½œå…è´¹ä¼ä¸šé‚®ç®±ï¼ˆå¯æ”¶å‘ï¼‰
        </h1>
        
        <div class="mb-8 flex flex-wrap">
          <div class="text-gray-400 text-sm mr-4">2025-03-02 Â· 7 min read</div>
          
            <a href="https://blog.shundebo.top/tag/tBIAaxyi8F/" class="text-gray-700 text-sm border-b-2 border-dotted border-gray-200 hover:border-gray-600 transition-all duration-100 inline-flex mr-2">
              <i class="ri-hashtag"></i>
              cloudflare
            </a>
          
        </div>
        <div class="markdown mb-8" v-pre>
          <p><ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#font-size61%E6%B3%A8%E5%86%8Ccloudflare%E8%B4%A6%E5%8F%B7%E5%B9%B6%E6%B7%BB%E5%8A%A0%E5%9F%9F%E5%90%8Dfont"><font size=6>1.æ³¨å†ŒCloudflareè´¦å·å¹¶æ·»åŠ åŸŸå</font></a></li>
<li><a href="#font-size62%E8%AE%BE%E7%BD%AE%E6%94%B6%E9%82%AE%E4%BB%B6font"><font size=6>2.è®¾ç½®æ”¶é‚®ä»¶</font></a></li>
<li><a href="#font-size63%E8%8E%B7%E5%8F%96resendapikey%E4%B8%8E%E9%85%8D%E7%BD%AEfont"><font size=6>3.è·å–resendAPIkeyä¸é…ç½®</font></a></li>
<li><a href="#font-size64%E8%AE%BE%E7%BD%AE%E5%8F%91%E4%BB%B6workerfont"><font size=6>4.è®¾ç½®å‘ä»¶worker</font></a></li>
</ul>
</li>
</ul>
<br>
KImiçš„<s>åœ¨åˆ›ä¸šæˆ–ä¸ªäººé¡¹ç›®ä¸­ï¼Œæ‹¥æœ‰ä¸€ä¸ªä¸“ä¸šçš„ä¼ä¸šé‚®ç®±ä¸ä»…èƒ½æå‡å“ç‰Œå½¢è±¡ï¼Œè¿˜èƒ½æé«˜æ²Ÿé€šæ•ˆç‡ã€‚ç„¶è€Œï¼Œä¼ ç»Ÿçš„ä¼ä¸šé‚®ç®±æœåŠ¡å¾€å¾€ä»·æ ¼æ˜‚è´µï¼Œå¯¹äºé¢„ç®—æœ‰é™çš„ä¸ªäººå’Œåˆåˆ›å›¢é˜Ÿæ¥è¯´å¹¶ä¸å‹å¥½ã€‚å¥½æ¶ˆæ¯æ˜¯ï¼Œå€ŸåŠ©Cloudflareå’Œä¸€äº›å¼€æºå·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾æ­å»ºä¸€ä¸ªå…è´¹ä¸”åŠŸèƒ½å¼ºå¤§çš„ä¼ä¸šé‚®ç®±ç³»ç»Ÿã€‚ä»Šå¤©ï¼Œæˆ‘å°†å¸¦ä½ ä¸€æ­¥æ­¥å®ç°è¿™ä¸€ç›®æ ‡ã€‚<br>
ä¼ä¸šé‚®ç®±çš„ä¼˜åŠ¿ï¼š<br>
æå‡ä¸“ä¸šå½¢è±¡ï¼šä½¿ç”¨ä¼ä¸šé‚®ç®±ï¼ˆå¦‚yourname@yourdomain.comï¼‰å¯ä»¥è®©ä½ åœ¨å®¢æˆ·çœ¼ä¸­æ˜¾å¾—æ›´ä¸“ä¸šã€æ›´å¯ä¿¡ã€‚<br>
é›†ä¸­ç®¡ç†ï¼šæ–¹ä¾¿å›¢é˜Ÿåä½œï¼Œæ‰€æœ‰é‚®ä»¶éƒ½é›†ä¸­åœ¨ä¸€ä¸ªåŸŸåä¸‹ï¼Œä¾¿äºåˆ†ç±»å’Œç®¡ç†ã€‚<br>
å®‰å…¨æ€§æ›´é«˜ï¼šä¼ä¸šé‚®ç®±é€šå¸¸æä¾›æ›´é«˜çº§çš„å®‰å…¨é˜²æŠ¤ï¼Œä¿æŠ¤ä½ çš„å•†ä¸šæœºå¯†ã€‚<br>
ä¼ ç»Ÿä¼ä¸šé‚®ç®±çš„ç—›ç‚¹ï¼š<br>
æˆæœ¬é«˜æ˜‚ï¼šå¤§å¤šæ•°ä¼ä¸šé‚®ç®±æœåŠ¡éœ€è¦ä»˜è´¹ï¼Œå¯¹äºé¢„ç®—æœ‰é™çš„ä¸ªäººæˆ–åˆåˆ›å›¢é˜Ÿæ¥è¯´æ˜¯ä¸€ç¬”ä¸å°çš„å¼€æ”¯ã€‚<br>
æŠ€æœ¯é—¨æ§›é«˜ï¼šæ­å»ºå’Œç»´æŠ¤ä¼ä¸šé‚®ç®±éœ€è¦ä¸€å®šçš„æŠ€æœ¯çŸ¥è¯†ï¼Œå¯¹äºéæŠ€æœ¯èƒŒæ™¯çš„ç”¨æˆ·æ¥è¯´éš¾åº¦è¾ƒå¤§ã€‚<br>
Cloudflareç®€ä»‹ï¼š<br>
Cloudflareæ˜¯ä¸€å®¶æä¾›CDNï¼ˆå†…å®¹åˆ†å‘ç½‘ç»œï¼‰ã€å®‰å…¨é˜²æŠ¤å’ŒDNSæœåŠ¡çš„å…¬å¸ã€‚é€šè¿‡å…¶å…¨çƒåˆ†å¸ƒçš„æœåŠ¡å™¨ç½‘ç»œï¼ŒCloudflareå¯ä»¥åŠ é€Ÿç½‘ç«™åŠ è½½é€Ÿåº¦ã€ä¿æŠ¤ç½‘ç«™å…å—æ”»å‡»ï¼Œå¹¶æä¾›å…è´¹çš„SSLè¯ä¹¦ã€‚<br>
Cloudflareçš„å…è´¹åŠŸèƒ½ï¼š<br>
å…è´¹DNSè§£æï¼šå¯ä»¥å°†åŸŸåè§£æåˆ°ä»»æ„æœåŠ¡å™¨ã€‚<br>
å…è´¹SSLè¯ä¹¦ï¼šç¡®ä¿ç½‘ç«™é€šä¿¡çš„å®‰å…¨ã€‚<br>
å¼ºå¤§çš„å®‰å…¨é˜²æŠ¤ï¼šé˜²æ­¢DDoSæ”»å‡»ã€æ¶æ„çˆ¬è™«ç­‰ã€‚<br>
Cloudflareåœ¨ä¼ä¸šé‚®ç®±æ­å»ºä¸­çš„ä½œç”¨ï¼š<br>
é€šè¿‡Cloudflareçš„DNSè§£æåŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥å°†åŸŸåç»‘å®šåˆ°ç¬¬ä¸‰æ–¹é‚®ç®±æœåŠ¡ï¼Œä»è€Œå®ç°å…è´¹ä¼ä¸šé‚®ç®±çš„æ­å»ºã€‚</s></p>
<h2 id="font-size61æ³¨å†Œcloudflareè´¦å·å¹¶æ·»åŠ åŸŸåfont"><font size=6>1.æ³¨å†ŒCloudflareè´¦å·å¹¶æ·»åŠ åŸŸå</font></h2>
<p>è¿™é‡Œä¸è¿‡å¤šèµ˜è¿°ï¼Œç½‘ä¸Šæ•™ç¨‹å¾ˆå¤šã€‚</p>
<h2 id="font-size62è®¾ç½®æ”¶é‚®ä»¶font"><font size=6>2.è®¾ç½®æ”¶é‚®ä»¶</font></h2>
<p>åœ¨dashboardæ‰“å¼€åŸŸåæ§åˆ¶å°ï¼Œå¹¶é€‰æ‹©ç”µå­é‚®ä»¶è¿›è¡Œå¦‚ä¸‹æ“ä½œ<br>
<img src="https://blog.shundebo.top/post-images/1740887496920.png" alt="" loading="lazy"><br>
è¿™é‡Œä»€ä¹ˆéƒ½ä¸å¡«ï¼Œç›´æ¥ç‚¹è¿™é‡Œï¼š<br>
<img src="https://blog.shundebo.top/post-images/1740887592731.png" alt="" loading="lazy"><br>
<img src="https://blog.shundebo.top/post-images/1740887689272.png" alt="" loading="lazy"><br>
<img src="https://blog.shundebo.top/post-images/1740887751766.png" alt="" loading="lazy"><br>
<img src="https://blog.shundebo.top/post-images/1740887858131.png" alt="" loading="lazy"></p>
<h2 id="font-size63è·å–resendapikeyä¸é…ç½®font"><font size=6>3.è·å–resendAPIkeyä¸é…ç½®</font></h2>
<p>è¿›åˆ°resend.comæ³¨å†Œåè¿™æ ·æ“ä½œ<br>
<img src="https://blog.shundebo.top/post-images/1740888648115.png" alt="" loading="lazy"><br>
è¿™é‡Œå¡«å…¥ä½ çš„åŸŸåå†ç‚¹add<br>
å†æŒ‰ç…§ä»–çš„è®¾ç½®é…ç½®å¥½cloudflareçš„dnsï¼Œç½‘ä¸Šä¹Ÿæœ‰å¾ˆå¤šæ•™ç¨‹<br>
<img src="https://blog.shundebo.top/post-images/1740888835647.png" alt="" loading="lazy"><br>
é…ç½®å¥½åç‚¹å‡»ä¸Šé¢çš„verifyå°±è¡Œäº†<br>
ç„¶åç‚¹å‡»api-keyï¼Œç”Ÿæˆåä¿å­˜å¥½<br>
<img src="https://blog.shundebo.top/post-images/1740888973508.png" alt="" loading="lazy"></p>
<h2 id="font-size64è®¾ç½®å‘ä»¶workerfont"><font size=6>4.è®¾ç½®å‘ä»¶worker</font></h2>
<p>å›åˆ°dashboard<br>
<img src="https://blog.shundebo.top/post-images/1740888137422.png" alt="" loading="lazy"><br>
<img src="https://blog.shundebo.top/post-images/1740888144994.png" alt="" loading="lazy"><br>
ç°åœ¨å·¦ä¾§ä¼šæœ‰ä¸€ä¸ªä»£ç æ¡†<br>
åˆ é™¤åŸæ¥çš„å¹¶æŠŠæ­¤ä»£ç å¡«å…¥ï¼š</p>
<pre><code class="language-javascript">addEventListener('fetch', event =&gt; {
  event.respondWith(handleRequest(event.request));
})

async function handleRequest(request) {
  if (request.method === 'POST') {
      const { senderName, username, to, subject, html } = await request.json();

      // å›ºå®šçš„ API å¯†é’¥
      const apiKey = '&lt;ä½ çš„å¯†é’¥&gt;';
      
      // æ„å»ºå‘ä»¶äººé‚®ç®±
      const fromEmail = `${username}@&lt;ä½ çš„åŸŸå&gt;`;

      const requestBody = {
          from: `${senderName} &lt;${fromEmail}&gt;`, // è®¾ç½®æ˜¾ç¤ºçš„å‘ä»¶äººåç§°
          to: [to],
          subject: subject,
          html: html
      };

      const response = await fetch('https://api.resend.com/emails', {
          method: 'POST',
          headers: {
              'Authorization': `Bearer ${apiKey}`,
              'Content-Type': 'application/json'
          },
          body: JSON.stringify(requestBody)
      });

      const data = await response.json();
      if (data.success) {
          return new Response(JSON.stringify({ message: 'é‚®ä»¶å‘é€æˆåŠŸ!' }), { status: 200 });
      } else {
          return new Response(JSON.stringify({ error: `é‚®ä»¶å‘é€å¤±è´¥: ${data.error}` }), { status: 400 });
      }
  } else {
      // è¿”å› HTML è¡¨å•é¡µé¢
      return new Response(`
          &lt;!DOCTYPE html&gt;
          &lt;html lang=&quot;en&quot;&gt;
          &lt;head&gt;
              &lt;meta charset=&quot;UTF-8&quot;&gt;
              &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
              &lt;title&gt;Send Email via Resend API&lt;/title&gt;
              &lt;style&gt;
                  body { font-family: 'Arial', sans-serif; background-color: #f4f7fc; margin: 0; padding: 0; display: flex; justify-content: center; align-items: center; height: 100vh; }
                  .container { background-color: #fff; border-radius: 8px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); width: 400px; padding: 30px; }
                  h1 { text-align: center; color: #333; font-size: 24px; margin-bottom: 20px; }
                  label { display: block; font-size: 14px; margin-bottom: 6px; color: #555; }
                  input[type=&quot;email&quot;], input[type=&quot;text&quot;], textarea { width: 100%; padding: 10px; margin-bottom: 16px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px; color: #333; }
                  textarea { height: 120px; resize: vertical; }
                  button { width: 100%; padding: 12px; background-color: #5c6bc0; color: #fff; border: none; border-radius: 4px; font-size: 16px; cursor: pointer; transition: background-color 0.3s; }
                  button:hover { background-color: #3f4a90; }
                  .success-message, .error-message { text-align: center; font-weight: bold; margin-top: 20px; }
                  .success-message { color: #4caf50; }
                  .error-message { color: #f44336; }
                  .form-group { margin-bottom: 16px; }
              &lt;/style&gt;
          &lt;/head&gt;
          &lt;body&gt;
              &lt;div class=&quot;container&quot;&gt;
                  &lt;h1&gt;å‘é€é‚®ä»¶&lt;/h1&gt;
                  &lt;form id=&quot;emailForm&quot;&gt;
                      &lt;div class=&quot;form-group&quot;&gt;
                          &lt;label for=&quot;senderName&quot;&gt;å‘ä»¶äººåç§°ï¼š&lt;/label&gt;
                          &lt;input type=&quot;text&quot; id=&quot;senderName&quot; required&gt;
                      &lt;/div&gt;
                      &lt;div class=&quot;form-group&quot;&gt;
                          &lt;label for=&quot;username&quot;&gt;ç”¨æˆ·åï¼š&lt;/label&gt;
                          &lt;input type=&quot;text&quot; id=&quot;username&quot; required&gt;
                      &lt;/div&gt;
                      &lt;div class=&quot;form-group&quot;&gt;
                          &lt;label for=&quot;toEmail&quot;&gt;æ”¶ä»¶äººé‚®ç®±ï¼š&lt;/label&gt;
                          &lt;input type=&quot;email&quot; id=&quot;toEmail&quot; required&gt;
                      &lt;/div&gt;
                      &lt;div class=&quot;form-group&quot;&gt;
                          &lt;label for=&quot;subject&quot;&gt;ä¸»é¢˜ï¼š&lt;/label&gt;
                          &lt;input type=&quot;text&quot; id=&quot;subject&quot; required&gt;
                      &lt;/div&gt;
                      &lt;div class=&quot;form-group&quot;&gt;
                          &lt;label for=&quot;htmlContent&quot;&gt;å†…å®¹ï¼š&lt;/label&gt;
                          &lt;textarea id=&quot;htmlContent&quot; required&gt;&lt;/textarea&gt;
                      &lt;/div&gt;
                      &lt;button type=&quot;submit&quot;&gt;å‘é€é‚®ä»¶&lt;/button&gt;
                  &lt;/form&gt;
                  &lt;div id=&quot;message&quot;&gt;&lt;/div&gt;
              &lt;/div&gt;
              &lt;script&gt;
                  document.getElementById('emailForm').addEventListener('submit', async function(event) {
                      event.preventDefault();
                      const senderName = document.getElementById('senderName').value;
                      const username = document.getElementById('username').value;
                      const toEmail = document.getElementById('toEmail').value;
                      const subject = document.getElementById('subject').value;
                      const htmlContent = document.getElementById('htmlContent').value;

                      const response = await fetch('/', {
                          method: 'POST',
                          headers: {
                              'Content-Type': 'application/json'
                          },
                          body: JSON.stringify({ senderName, username, to: toEmail, subject, html: htmlContent })
                      });

                      const data = await response.json();
                      const messageDiv = document.getElementById('message');
                      if (response.ok) {
                          messageDiv.innerHTML = '&lt;div class=&quot;success-message&quot;&gt;' + data.message + '&lt;/div&gt;';
                      } else {
                          messageDiv.innerHTML = '&lt;div class=&quot;error-message&quot;&gt;' + data.error + '&lt;/div&gt;';
                      }
                  });
              &lt;/script&gt;
          &lt;/body&gt;
          &lt;/html&gt;
      `, { headers: { &quot;Content-Type&quot;: &quot;text/html&quot; } });
  }
}

</code></pre>
<p>ç´§æ¥ç€ä¿®æ”¹ä¸€ä¸‹11è¡Œå’Œ13è¡Œçš„apikeyå’ŒåŸŸåï¼Œç‚¹å‡»éƒ¨ç½²<br>
<s>è¿™ä¸ªå¯èƒ½æœ‰æ³„éœ²é£é™©<br>
æ¬¢è¿å¤§ä½¬æŒ‡ç‚¹</s><br>
ç‚¹å‡»è®¿é—®<br>
å‘é€åé”™è¯¯ä¿¡æ¯å¦‚æœæ˜¯undefineå°±ç®—æˆåŠŸäº†ï¼ï¼ï¼<br>
å®Œæˆ<img src="https://blog.shundebo.top/post-images/1740891446056.png" alt="" loading="lazy"></p>

        </div>
        <!-- Share to Twitter, Weibo, Telegram -->
        <div class="flex items-center">
          <div class="mr-4 flex items-center">
            <i class="ri-share-forward-line text-gray-500"></i>
          </div>
          <div class="px-4 cursor-pointer text-blue-500 hover:bg-blue-100 dark:hover:bg-gray-600 inline-flex" @click="shareToTwitter">
            <i class="ri-twitter-line"></i>
          </div>
          <div class="px-4 cursor-pointer text-red-500 hover:bg-red-100 dark:hover:bg-gray-600 inline-flex" @click="shareToWeibo">
            <i class="ri-weibo-line"></i>
          </div>
          <div class="px-4 cursor-pointer text-indigo-500 hover:bg-indigo-100 dark:hover:bg-gray-600 inline-flex" @click="shareToTelegram">
            <i class="ri-telegram-line"></i>
          </div>
        </div>
      </div>

      
        
          <div id="gitalk-container"></div>
        

        
      

      
        <div id="vlaine-comment"></div>
      

      <footer class="py-12 text-center px-4 md:px-0" v-pre>
  Â© shundebo 2025
æ€»è®¿é—®é‡ï¼š<div align="center"><a href="http://www.amazingcounters.com"><img border="0" src="http://cc.amazingcounters.com/counter.php?i=3303371&c=9910426" alt="AmazingCounters.com"></a></div>
<a href="https://icp.gov.moe/?keyword=20258222" target="_blank">èŒICPå¤‡20258222å·</a><a href="https://icp.shundebo.top/id.php?keyword=88888888" target="_blank">ğŸ§ICPå¤‡88888888å·</a><a href="https://icp.xnet.ren/id.php?keyword=20256789" target="_blank">ä¿¡ICPå¤‡20256789å·</a><div class="github-badge">
  <span class="badge-subject">é›¾å¤‡</span>
  <a style="color:#fff" href="https://icp.wudu.ltd/id.php?keyword=12345678" rel="external nofollow" target="_blank">
    <span class="badge-value bg-cai">12345678å·</span>
  </a>
</div><a href="https://czicp.hnczy.xin/id.php?keyword=2025042001-1" target="_blank"> <img src="https://static.hnczy.icu/logo.png" width="20" height="20" style="vertical-align: middle; margin-right: 5px;">åˆè¡·è™šæ‹ŸICPå¤‡2025042001å·-1</a><a href="https://icp.yuncheng.fun/id.php?keyword=88888888" target="_blank">å°å¢¨é˜³ICPå¤‡88888888å·</a><a href="https://www.govs.cc/id.php?keyword=20251111" target="_blank"> <img src="https://thirdqq.qlogo.cn/g?b=qq&nk=3589326078&s=640" width="20" height="20" style="vertical-align: middle; margin-right: 5px;">å˜£ICPå¤‡20251111å·</a><a href="https://icpx.top/icp.php?id=20256789" title="ICPXå¤‡æ¡ˆå·20256789å·">ICPXå¤‡20256789å·</a><a href="https://icp.æ˜Ÿ.fun/id.php?keyword=20255555" target="_blank"> <img src="https://icp.æ˜Ÿ.fun/favicon.ico" width="20" height="20" style="vertical-align: middle; margin-right: 5px;">æ¢¦ICPå¤‡20255555å·</a>
    
</footer>
    </div>

    <!-- TOC Container -->
    <div class="fixed right-0 bottom-0 mb-16 mr-4 shadow w-8 h-8 rounded-full flex justify-center items-center z-10 cursor-pointer bg-white dark:bg-gray-500 dark:text-gray-200 hover:shadow-lg transition-all animated fadeInRight" @click="showToc = true">
      <i class="ri-file-list-line"></i>
    </div>

    <div class="fixed right-0 top-0 bottom-0 overflow-y-auto w-64 bg-white dark:bg-gray-800 p-4 border-l border-gray-100 dark:border-gray-600 z-10 transition-fast" :class="{ '-mr-64': !showToc }">
      <div class="flex mb-4 justify-end">
        <div class="w-8 h-8 inline-flex justify-center items-center rounded-full cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600 transition-fast" @click="showToc = false">
          <i class="ri-close-line text-lg"></i>
        </div>
      </div>
      <div class="post-toc-container">
        <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#font-size61%E6%B3%A8%E5%86%8Ccloudflare%E8%B4%A6%E5%8F%B7%E5%B9%B6%E6%B7%BB%E5%8A%A0%E5%9F%9F%E5%90%8Dfont"><font size=6>1.æ³¨å†ŒCloudflareè´¦å·å¹¶æ·»åŠ åŸŸå</font></a></li>
<li><a href="#font-size62%E8%AE%BE%E7%BD%AE%E6%94%B6%E9%82%AE%E4%BB%B6font"><font size=6>2.è®¾ç½®æ”¶é‚®ä»¶</font></a></li>
<li><a href="#font-size63%E8%8E%B7%E5%8F%96resendapikey%E4%B8%8E%E9%85%8D%E7%BD%AEfont"><font size=6>3.è·å–resendAPIkeyä¸é…ç½®</font></a></li>
<li><a href="#font-size64%E8%AE%BE%E7%BD%AE%E5%8F%91%E4%BB%B6workerfont"><font size=6>4.è®¾ç½®å‘ä»¶worker</font></a></li>
</ul>
</li>
</ul>

      </div>
    </div>

    <!-- Back to top -->
    <div class="fixed right-0 bottom-0 mb-4 mr-4 shadow w-8 h-8 rounded-full flex justify-center items-center z-10 cursor-pointer bg-white hover:shadow-lg transition-all dark:bg-gray-500 dark:text-gray-200" @click="backToUp" v-show="scrolled">
      <i class="ri-arrow-up-line"></i>
    </div>
  </div>

  <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
  <!-- Background of PhotoSwipe. 
        It's a separate element as animating opacity is faster than rgba(). -->
  <div class="pswp__bg">
  </div>
  <!-- Slides wrapper with overflow:hidden. -->
  <div class="pswp__scroll-wrap">
    <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
    <div class="pswp__container">
      <div class="pswp__item">
      </div>
      <div class="pswp__item">
      </div>
      <div class="pswp__item">
      </div>
    </div>
    <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
    <div class="pswp__ui pswp__ui--hidden">
      <div class="pswp__top-bar">
        <!--  Controls are self-explanatory. Order can be changed. -->
        <div class="pswp__counter">
        </div>
        <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
        <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
        <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
        <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
        <!-- element will get class pswp__preloader--active when preloader is running -->
        <div class="pswp__preloader">
          <div class="pswp__preloader__icn">
            <div class="pswp__preloader__cut">
              <div class="pswp__preloader__donut">
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
        <div class="pswp__share-tooltip">
        </div>
      </div>
      <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
      </button>
      <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
      </button>
      <div class="pswp__caption">
        <div class="pswp__caption__center">
        </div>
      </div>
    </div>
  </div>
</div>

  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script src="https://blog.shundebo.top/media/scripts/main.js"></script>
  
  <!-- Code Highlight -->
  
    <script src="https://blog.shundebo.top/media/prism.js"></script>
    <script>
      Prism.highlightAll()
    </script>
  

  <script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>
  <script>
    //æ‹¿åˆ°é¢„è§ˆæ¡†æ¶ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢çš„htmlä»£ç 
    var pswpElement = document.querySelectorAll('.pswp')[0];
    //å®šä¹‰å›¾ç‰‡æ•°ç»„å˜é‡
    var imgitems;
    /**
    * ç”¨äºæ˜¾ç¤ºé¢„è§ˆç•Œé¢
    * @param index å›¾ç‰‡æ•°ç»„ä¸‹æ ‡
    */
    function viewImg(index) {
      //å…¶å®ƒé€‰é¡¹è¿™é‡Œä¸åšè¿‡å¤šé˜è¿°ï¼Œè¯¦æƒ…è§å®˜ç½‘
      var pswpoptions = {
        index: parseInt(index, 10), // å¼€å§‹å¹»ç¯ç‰‡ç´¢å¼•ã€‚0æ˜¯ç¬¬ä¸€å¼ å¹»ç¯ç‰‡ã€‚å¿…é¡»æ˜¯æ•´æ•°ï¼Œè€Œä¸æ˜¯å­—ç¬¦ä¸²ã€‚
        bgOpacity: 0.7, // èƒŒæ™¯é€æ˜åº¦ï¼Œ0-1
        maxSpreadZoom: 3, // ç¼©æ”¾çº§åˆ«ï¼Œä¸è¦å¤ªå¤§
      };
      //åˆå§‹åŒ–å¹¶æ‰“å¼€PhotoSwipeï¼ŒpswpElementå¯¹åº”ä¸Šé¢é¢„è§ˆæ¡†æ¶ï¼ŒPhotoSwipeUI_Defaultä¸ºçš®è‚¤ï¼Œimgitemsä¸ºå›¾ç‰‡æ•°ç»„ï¼Œpswpoptionsä¸ºé€‰é¡¹
      var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, imgitems, pswpoptions);
      gallery.init()
    }
    /**
    * ç”¨äºæ·»åŠ å›¾ç‰‡ç‚¹å‡»äº‹ä»¶
    * @param img å›¾ç‰‡å…ƒç´ 
    * @param index æ‰€å±ä¸‹æ ‡ï¼ˆåœ¨imgitemsä¸­çš„ä½ç½®ï¼‰
    */
    function addImgClick(img, index) {
      img.onclick = function() {
        viewImg(index)
      }
    }
    /**
    * è½®è¯¢æ‰€æœ‰å›¾ç‰‡ï¼Œè·å–srcã€widthã€heightç­‰æ•°æ®ï¼ŒåŠ å…¥imgitemsï¼Œå¹¶ç»™å›¾ç‰‡å…ƒç´ æ·»åŠ äº‹ä»¶
    * æœ€å¥½åœ¨onloadä¸­æ‰§è¡Œè¯¥æ–¹æ³•ï¼Œæœ¬ç«™å› æ”¾åœ¨æœ€åº•éƒ¨ï¼Œæ‰€ä»¥ç›´æ¥åˆå§‹åŒ–
    * å¼‚æ­¥åŠ è½½å›¾ç‰‡å¯åœ¨å›¾ç‰‡å…ƒç´ åˆ›å»ºå®Œæˆåè°ƒç”¨æ­¤æ–¹æ³•
    */
    function initImg() {
      //é‡ç½®å›¾ç‰‡æ•°ç»„
      imgitems = [];
      //æŸ¥æ‰¾class:markdown ä¸‹çš„æ‰€æœ‰imgå…ƒç´ å¹¶éå†
      var imgs = document.querySelectorAll('.markdown img');
      for (var i = 0; i < imgs.length; i++) {
        var img = imgs[i];
        //æœ¬ç«™ç›¸å†Œåˆå§‹ä¸ºloadingå›¾ç‰‡ï¼ŒçœŸå®å›¾ç‰‡æ”¾åœ¨data-src
        var ds = img.getAttribute("data-src");
        //åˆ›å»ºimageå¯¹è±¡ï¼Œç”¨äºè·å–å›¾ç‰‡å®½é«˜
        var imgtemp = new Image();
        //åˆ¤æ–­æ˜¯å¦å­˜åœ¨data-src
        if (ds != null && ds.length > 0) {
          imgtemp.src = ds
        } else {
          imgtemp.src = img.src
        }
        //åˆ¤æ–­æ˜¯å¦å­˜åœ¨ç¼“å­˜
        if (imgtemp.complete) {
          var imgobj = {
            "src": imgtemp.src,
            "w": imgtemp.width,
            "h": imgtemp.height,
          };
          imgitems[i] = imgobj;
          addImgClick(img, i);
        } else {
          console.log('è¿›æ¥äº†2')
          imgtemp.index = i;
          imgtemp.img = img;
          imgtemp.onload = function() {
            var imgobj = {
              "src": this.src,
              "w": this.width,
              "h": this.height,
            };
            //ä¸è¦ä½¿ç”¨pushï¼Œå› ä¸ºonloadå‰åé¡ºåºä¼šä¸åŒ
            imgitems[this.index] = imgobj
            //æ·»åŠ ç‚¹å‡»äº‹ä»¶
            addImgClick(this.img, this.index);
          }
        }
      }
    }
    //åˆå§‹åŒ–
    initImg();
  </script>
  
    <script type="application/javascript" src="https://unpkg.com/valine"></script>
<script type="application/javascript">
  new Valine({
    el: '#vlaine-comment',
    appId: 'CCk6FnLd6w7rsDUaBvhr4YRg-gzGzoHsz',
    appKey: 'F5NA7cw4JgnC4aIQ9g8mclPn',
    pageSize: 10,
    notify: true,
    avatar: 'mp',
    verify: false,
    placeholder: 'è¯„è®ºè¯„è®ºè¯„è®ºè¯„è®ºè¯„è®ºè¯„è®ºè¯„è®ºè¯„è®ºè¯„è®ºè¯„è®ºè¯„è®ºè¯„è®ºè¯„è®ºè¯„è®ºè¯„è®ºè¯„è®ºè¯„è®ºè¯„è®ºè¯„è®º',
    visitor: true,
    highlight: true,
    recordIP: true,
  })
</script>
  
  
    
      <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script type="application/javascript" src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<script type="application/javascript">

  var gitalk = new Gitalk({
    clientID: 'Ov23lirVYELnwGtSLIFf',
    clientSecret: 'd75706a140f5053b9daa4bd2f3884b5d2188f606',
    repo: 'blog-shundebo-top',
    owner: 'shundebo',
    admin: ['shundebo'],
    id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })

  gitalk.render('gitalk-container')

</script>

    
  
</body>

</html>
